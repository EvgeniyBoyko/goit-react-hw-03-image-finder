{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/services/gallery-services.js","components/Loader/Loader.jsx","components/Gallery/Gallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","image","onClickModal","webformatURL","tags","largeImageURL","className","styles","src","alt","ImageGalleryItemImage","onClick","defaultProps","ImageGallery","images","openModal","map","id","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","Component","Button","fetchGallery","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","Overlay","children","fetchImages","page","KEY","baseURL","axios","get","LoaderElem","color","height","width","timeout","Gallery","isLoading","error","isModalOpen","largeImg","listRef","createRef","onChangeQuery","then","response","prevState","data","hits","catch","finally","toggleModal","Img","prevProps","length","current","scrollHeight","snapshot","scrollTo","top","behavior","Loader","ref","App","stules","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bcc53feb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__33HRP\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3QVjw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__28uNY\",\"Modal\":\"Modal_Modal__1juIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1zwE2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2wkop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1a_22\"};","import React from 'react';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, onClickModal }) => {\r\n  const { webformatURL, tags, largeImageURL } = image;\r\n  return (\r\n    <>\r\n      <li className={styles.ImageGalleryItem}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={styles.ImageGalleryItemImage}\r\n          onClick={() => onClickModal(largeImageURL)}\r\n        />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  onClick: () => {}\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className={styles.ImageGallery}>\r\n        {images.map(image => (\r\n          <ImageGalleryItem key={image.id} image={image} onClickModal={openModal} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.defaultProps = {\r\n  image: \"https://dummyimage.com/640x480/2a2a2a/ffffff&text=Product+image+placeholder\"\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onClickModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            query: e.currentTarget.value\r\n        });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.reset();\r\n    };\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            query: ''\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { handleSubmit, handleChange } = this;\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.SearchFormButton}>\r\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        value={this.state.query}\r\n                        onChange={handleChange}\r\n                        className={styles.SearchFormInput}\r\n                        type=\"text\"\r\n                        // autocomplete=\"off\"\r\n                        // autofocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n\r\n\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchGallery }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={fetchGallery}>Load more...</button>\r\n  );\r\n};\r\n\r\nButton.defaultProps = {\r\n  fetchGallery: () => {}\r\n};\r\n\r\nButton.propTypes = {\r\n  fetchGallery: PropTypes.func,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleOverlayClick } = this;\r\n    return (\r\n      <div className={styles.Overlay} onClick={handleOverlayClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nModal.defaultProps = {\r\n  onClick: () => {}\r\n};\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Modal;","import axios from 'axios';\r\n\r\nexport const fetchImages = (query = '', page = 1) => {\r\n    const KEY = \"20957573-739e267d9cf8553f9fb24fb52\";\r\n    const baseURL = \"https://pixabay.com/api/\";\r\n    return axios.get(`${baseURL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=20`);\r\n};\r\n\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12","import {Component} from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nclass LoaderElem extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Rings\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoaderElem;","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGallery from '../ImageGallery';\r\nimport Searchbar from '../Searchbar';\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\nimport { fetchImages } from '../services/gallery-services';\r\nimport LoaderElem from '../Loader';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass Gallery extends Component {\r\n    state = {\r\n        images: [],\r\n        page: 1,\r\n        query: '',\r\n        isLoading: false,\r\n        error: null,\r\n        isModalOpen: false,\r\n        largeImg: \"\",\r\n    };\r\n\r\n    listRef = createRef();\r\n\r\n    getSnapshotBeforeUpdate(prevProps, prevState) {\r\n        if (prevState.images.length < this.state.images.length) {\r\n        const { current } = this.listRef;\r\n        return current.scrollHeight\r\n        };\r\n        return null\r\n    };\r\n  \r\n     componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.query !== this.state.query) {\r\n        this.fetchGallery();\r\n        };\r\n        \r\n        if (snapshot !== null) {\r\n            window.scrollTo({\r\n                top: snapshot,\r\n                behavior: 'smooth',\r\n            });\r\n        };\r\n    };\r\n  \r\n  \r\n    onChangeQuery = (query) => {\r\n        this.setState({\r\n            images: [],\r\n            query: query,\r\n            page: 1,\r\n            error: null,\r\n        });\r\n    };\r\n  \r\n    fetchGallery = () => {\r\n        const { page, query } = this.state;\r\n\r\n        this.setState({\r\n            isLoading: true\r\n        });\r\n\r\n        const imagesRequest = fetchImages(query, page);\r\n \r\n        imagesRequest\r\n            .then(response => {\r\n                this.setState(prevState => ({\r\n                    images: [...prevState.images, ...response.data.hits],\r\n                    page: prevState.page + 1,\r\n                }));\r\n            }).catch(error => this.setState({\r\n                error\r\n            }))\r\n            .finally(() => this.setState({\r\n                isLoading: false\r\n            }));\r\n    };\r\n\r\n    toggleModal = (Img = \"\") => {\r\n        this.setState(({ isModalOpen }) => ({\r\n            isModalOpen: !isModalOpen,\r\n            largeImg: Img\r\n        }));\r\n    };\r\n\r\n  render() {\r\n      const { images, isLoading, isModalOpen, largeImg } = this.state;\r\n      const { onChangeQuery, toggleModal, listRef, fetchGallery } = this;\r\n      return (\r\n          <>\r\n\r\n              <Searchbar onSubmit={onChangeQuery} />\r\n              {isLoading && <LoaderElem />}\r\n              <div ref={listRef}>\r\n                  <ImageGallery images={images} openModal={toggleModal} />\r\n                  {isLoading && <h3>Loading...</h3>}\r\n              </div>\r\n\r\n              {images.length > 0 && <Button fetchGallery={fetchGallery} />}\r\n\r\n              {isModalOpen && <Modal onClose={toggleModal}>\r\n                  <img src={largeImg} alt=\"\" />\r\n              </Modal>}\r\n\r\n          </>);\r\n    };\r\n};\r\n\r\n\r\n\r\nexport default Gallery;","import stules from './App.module.css';\nimport Gallery from './components/Gallery';\n\nfunction App() {\n  return (\n    <div className={stules.App}>\n      <Gallery />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Iw8k\",\"SearchForm\":\"Searchbar_SearchForm__2zBDX\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2npTm\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2EnQd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3W049\"};"],"sourceRoot":""}